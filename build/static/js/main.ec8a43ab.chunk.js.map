{"version":3,"sources":["actions/index.js","reducers/index.js","reducers/data.js","middlewares/logger.js","middlewares/index.js","Home/home.js","Login/login.js","App.js","index.js"],"names":["getAllData_Async","dispatch","Promise","res","dataList","require","setTimeout","then","data","type","getAllData","combineReducers","state","action","logger","store","next","applyMiddleware","thunk","Home","sessionStorage","getItem","this","props","history","push","length","setState","console","log","activeItem","pie1","labels","datasets","backgroundColor","bar1","label","showTable","pieChart","barchart","value","scrollable","scrollHeight","field","header","forEach","ele","hour","count","i","Object","keys","values","className","PureComponent","Login","userName","password","error","handleClick","trim","setItem","errormsg","style","margin","width","onChange","e","target","onClick","color","Component","App","componentDidMount","removeItem","handleLogout","window","location","reload","btn","float","path","component","render","connect","withRouter","createStore","rootReducer","middlewares","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.ec8a43ab.chunk.js","sourcesContent":["export const GET_ALL_DATA = 'GET_ALL_DATA'\r\n\r\nexport const ASYNC_ACTION = 'ASYNC_ACTION'\r\nexport const getAllDataAPI = () => new Promise((res) => {\r\n//   const dataList = [{\r\n//     title: \"Crisis3\",\r\n//     author: \"Robin Cook\",\r\n//     genre: \"Mystery thriller\",\r\n//     summary: \"The terrifying story of a doctor who is the victim of a medical malpractise crisis\",\r\n//     id: 1004\r\n//   }, {\r\n//     title: \"Crisis4\",\r\n//     author: \"Robin Cook\",\r\n//     genre: \"Mystery thriller\",\r\n//     summary: \"The terrifying story of a doctor who is the victim of a medical malpractise crisis\",\r\n//     id: 1005\r\n//   }];\r\n\r\nconst dataList=require('../frontend_assignment.json')\r\n  setTimeout(() => {\r\n    res(dataList);\r\n  }, 0);\r\n})\r\n\r\n\r\nexport function getAllData_Async() {\r\n  return (dispatch) => {\r\n    getAllDataAPI()\r\n      .then((data) => {\r\n        dispatch(getAllData(data));\r\n      });\r\n  };\r\n}\r\nexport function getAllData(data) {\r\n  return {\r\n    type: GET_ALL_DATA,\r\n    data,\r\n  }\r\n}\r\n","import data from './data'\r\nimport {combineReducers} from 'redux'\r\nexport default combineReducers({\r\n  data\r\n})\r\n","import { GET_ALL_DATA } from \"../actions\";\r\n\r\nexport default function getData(state = [], action) {\r\n  switch (action.type) {\r\n    case GET_ALL_DATA:\r\n      return [\r\n        ...state,\r\n        ...action.data,\r\n      ]\r\n    \r\n    default:\r\n      return [\r\n        ...state,\r\n      ]\r\n  }\r\n}\r\n","\r\nconst logger = (store) => (next) => (action) => {\r\n    \r\n    const returnValue = next(action)\r\n    \r\n    \r\n    return returnValue\r\n  }\r\n  export default logger;\r\n  ","/**\r\n* middlewares - logger and thunk\r\n*/\r\nimport logger from './logger'\r\nimport thunk from 'redux-thunk'\r\nimport { applyMiddleware } from 'redux'\r\nexport default applyMiddleware(\r\n  thunk, // will always be the first middleware\r\n  logger, // will always be the last middleware, just before the Action hits the Reducer\r\n) \r\n","import React, { PureComponent, Fragment } from 'react';\r\nimport { getAllData_Async } from '../actions'\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { TabView, TabPanel } from 'primereact/tabview';\r\nimport { Chart } from 'primereact/chart';\r\nimport './home.css'\r\n\r\nclass Home extends PureComponent {\r\n\r\n  state = {\r\n\r\n    dataList: [],\r\n\r\n  };\r\n  componentDidMount() {\r\n    if (sessionStorage.getItem(\"user\")) {\r\n      this.props.dispatch(getAllData_Async());\r\n\r\n    } else {\r\n      this.props.history.push(\"/login\")\r\n    }\r\n\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.state.dataList.length === 0) {\r\n      this.setState({ dataList: this.props.data })\r\n    }\r\n\r\n  }\r\n  render() {\r\n    // if (!sessionStorage.getItem(\"user\")) {\r\n\r\n    // }\r\n    console.log(this.state.dataList)\r\n    console.log(this.state.activeItem)\r\n    let pie1 = {\r\n      labels: [],\r\n      datasets: [\r\n        {\r\n          data: [],\r\n          backgroundColor: [\r\n            \"#FF6384\",\r\n            \"#36A2EB\",\r\n            \"#FFCE56\",\r\n            '#C6F9D2',\r\n            '#CCCCB3',\r\n            '#CECEFF',\r\n            '#FFCAFF',\r\n            '#D0CCCD',\r\n            '#FFCC99',\r\n            '#FFCBB9',\r\n            '#EAEC93',\r\n            '#D7FBE6',\r\n            '#FFCACA',\r\n            \"#FF6384\",\r\n            \"#36A2EB\",\r\n            \"#FFCE56\",\r\n            '#CCCCB3',\r\n            '#CE11FF',\r\n            '#FECAFF',\r\n            '#D0C45D',\r\n            '#FFC749',\r\n            '#FFAAB9',\r\n            '#EA1193',\r\n            '#D756E6',\r\n            '#2FCACA',\r\n            \"#F44384\",\r\n            \"#3652EB\",\r\n          ],\r\n        }\r\n      ]\r\n    }\r\n\r\n    const bar1 = {\r\n      labels: [],\r\n      datasets: [\r\n        {\r\n          label: 'Hour',\r\n          backgroundColor: '#42A5F5',\r\n          data: []\r\n        },\r\n        \r\n      ]\r\n    };\r\n    let showTable = \"Loading..\";\r\n    let pieChart = \"Loading..\"\r\n    let barchart = \"Loading..\"\r\n\r\n    if (this.state.dataList.length > 0) {\r\n      showTable = (\r\n        < DataTable value={this.state.dataList} scrollable={true} scrollHeight=\"400px\">\r\n          <Column field=\"dom\" header=\"DOM\" />\r\n          <Column field=\"dow\" header=\"DOW\" />\r\n          <Column field=\"insid\" header=\"Insid\" />\r\n          <Column field=\"hour\" header=\"Hour\" />\r\n          <Column field=\"SumHourly\" header=\"SumHourly\" />\r\n        </DataTable >\r\n      )\r\n\r\n      this.state.dataList.forEach(ele => {\r\n        pie1.labels.push(ele.hour)\r\n      })\r\n\r\n      var count = {};\r\n      pie1.labels.forEach(function (i) { count[i] = (count[i] || 0) + 1; });\r\n\r\n      pie1.labels = [...Object.keys(count)];\r\n      pie1.datasets[0].data = [...Object.values(count)];\r\n      bar1.labels=[...Object.keys(count)];\r\n      bar1.datasets[0].data=[...Object.values(count)]\r\n      console.log(pie1,bar1)\r\n\r\n      pieChart = (\r\n        <Fragment>\r\n          <div>Based on Hour</div>\r\n          <Chart type=\"pie\" data={pie1} />\r\n        </Fragment>\r\n      )\r\n\r\n      barchart=(\r\n        <Fragment>\r\n          <div>Based on Hour</div>\r\n          <Chart type=\"bar\" data={bar1} />\r\n        </Fragment>\r\n        \r\n      )\r\n    }\r\n\r\n\r\n    return (\r\n      <div className=\"topdiv\">\r\n\r\n        <TabView >\r\n          <TabPanel header=\"Table\">\r\n            {showTable}\r\n          </TabPanel>\r\n          <TabPanel header=\"Pie Chart\">\r\n            {pieChart}\r\n          </TabPanel>\r\n          <TabPanel header=\"Bar Chart\">\r\n            {barchart}\r\n          </TabPanel>\r\n        </TabView>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Home;","import React, { Component } from 'react';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { Button } from 'primereact/button';\r\nimport \"./login.css\"\r\n\r\nclass Login extends Component {\r\n    state = {\r\n        userName: '',\r\n        password: '',\r\n        error: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(\"in login\")\r\n        let isuser = sessionStorage.getItem(\"user\");\r\n        if (isuser) {\r\n            this.props.history.push(\"/home\")\r\n        }\r\n    }\r\n\r\n    handleClick = () => {\r\n        if (this.state.userName && this.state.password &&\r\n            this.state.userName.trim()!='' && this.state.password.trim()!='') {\r\n            sessionStorage.setItem(\"user\", this.state.userName);\r\n            this.props.history.push(\"/home\");\r\n        } else {\r\n            this.setState({ error: true })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let errormsg = \"\";\r\n        if (this.state.error) {\r\n            errormsg = \"Please Enter Username and Password\";\r\n        }\r\n        return (\r\n            <div className=\"topdiv\">\r\n                <div style={{ margin: \"1em\" }}>\r\n                    <div className=\"row\">\r\n                        <label style={{ width: '45%' }}>Username: </label>\r\n                        <InputText value={this.state.userName}\r\n                            onChange={(e) => this.setState({ userName: e.target.value })} />\r\n                    </div>\r\n                </div>\r\n                <div style={{ margin: \"1em\" }}>\r\n                    <div className=\"row\">\r\n                        <label style={{ width: '45%' }}>Password: </label>\r\n                        <InputText value={this.state.password} type=\"password\"\r\n                            onChange={(e) => this.setState({ password: e.target.value })} /><br />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"btn\">\r\n                    <Button label=\"Login\" onClick={this.handleClick} /><br />\r\n                    <p style={{ color: \"red\" }}>{errormsg}</p>\r\n                </div>\r\n\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login","import React, { Component, Fragment } from 'react'\nimport { Route, Switch, Link, Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\n// import { getAllData_Async, getAllData } from './actions'\nimport Home from './Home/home';\nimport Login from './Login/login';\nimport {withRouter} from 'react-router-dom'\nimport './App.css';\nimport 'primereact/resources/themes/nova-light/theme.css';\nimport 'primereact/resources/primereact.min.css';\nimport 'primeicons/primeicons.css';\nimport { Button } from 'primereact/button';\nclass App extends Component {\n\n  componentDidMount = () => {\n    // this.props.dispatch(getAllData_Async());\n    sessionStorage.removeItem(\"user\");\n  }\n\n  handleLogout=()=>{\n    sessionStorage.removeItem(\"user\");\n    // this.props.history.push('/login');\n    window.location.reload();\n  }\n  render() {\n    console.log(this.props)\n    let btn=sessionStorage.getItem(\"user\")?\n            <Button label=\"Logout\" className=\"p-button-secondary\" onClick={this.handleLogout} />:\n            null\n    \n    return (\n      \n      <Fragment>\n        <div>\n          <nav>\n            <a>SMART-CLEAN</a>\n            <span style={{float:\"right\"}}>\n              {btn}\n            </span>\n          </nav>\n        </div>\n        <Switch>\n          <Route path=\"/login\" component={Login} />\n          <Route path=\"/home\" render={()=><Home {...this.props}/>} />\n          <Route component={Home}/>\n        </Switch>\n      </Fragment>\n    );\n  }\n}\nfunction mapStateToProps({ data }) {\n  return {\n    data,\n  }\n}\nexport default connect(mapStateToProps)(withRouter(App));\n","/**\n* index.js - root file of the application\n*/ \n/* REACT related imports*/\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { createStore } from 'redux'\nimport { Provider } from 'react-redux'\nimport rootReducer from './reducers'\nimport middlewares from './middlewares'\nimport {BrowserRouter} from 'react-router-dom'\nimport './index.css'\nimport App from './App'\n/* Creating the REDUX STORE const store */\nconst store = createStore(rootReducer, middlewares)\n/* Loading the <App/> root view-component of the app\n* <Provided/> by the {store}\n* inside ReactDOM.render() */\nReactDOM.render(\n  <Provider store={store}>\n\t  <BrowserRouter><App/></BrowserRouter>\n  </Provider>,\ndocument.getElementById('root')\n)\n"],"sourceRoot":""}